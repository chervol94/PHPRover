## Mars Rover

### Run Info

Coded using `PHP 7.4`

`composer install`

`composer dump-autoload` (Only if issues with the autoload are present, if they persist please follow the indications of the next paragraph)

I had some issues with the autoload, if it doesn't work correctly please uncomment the lines of require_once in app.php or move them to the autoload generated by composer.

`php app.php` in the terminal to execute the application.

`bin/phpunit` to run the unit tests

### Implementation

The grid is defined from 0,0(bottom left) to the max size specified by the user (upper right corner), giving only positive coordenates to the world.

    Y|        5 5
     |
     |
     |________
    0 0       X

The input of the size of the world has been defined with the smallest size usable of 6x6 with no limit on the maximum size and shape, it can be 100x6 for example.


The inputs have been limited this way:
- World Size: Only allows numbers (positive ones), with the correct format (X Y), and the minimum accepted is 6 6.
- Rover Position: Only allows numbers (positive ones), with the correct format (X Y), the minimum accepted is 0 0 and the maximum is the size of the world minus one (since the grid starts at 0 0).
- Direction: Only allows the direction shown in uppercase (N/S/E/W), one letter, no numbers or symbols.
- Commands: This input is limited to only 15 movements, only the letters shown in uppercase (FLR), all together and without symbols or spaces.
- Final questions: Only allows the letters shown (Y/N), in uppercase, no symbols or numbers.

If any of this input criteria is not meet the app will throw and Invalid Argument Exception.

The ability to place the rover in the world has been controlled to be only possible inside the defined coordenates of the world, between minimum 0 0 and maximum introduced by the user. (5 5 if the user inputs 6 6 on world size)

The movement of the rover has been defined as 2D, moving left means that the rover will "slide" to the left instead of turning in the same spot and needing a "forward" order after that (3D). Also the movement is based in the direction the rover "faces". e.g North Forward will increase in the Y axis while East Forward will increase in the X Axis.

The rover will evaluate the following step before taking it, and will stop if an obstacle is found in the next movement.

The boundaries of the world have been defined as "obstacles" and the rover will stop if a boundary is reached.

The obstacles have been generated randomly, using the grid e.g 100x100 and dividing the number by 3 and rounding that down, and they have not been controlled, meaning that an obstacle can be "repeated" in the same position multiple times. Also the obstacles will not be placed in the spot where the rover is located.

### Tests

Tests are run but not much feedback is received in the terminal. The executed test could be summarized as:
- World Size Input Check Test
- Rover Position Input Check Test
- Obstacle Detection (Detected - Random Placed Obstacle)
- Obstacle Detection (Not Detected)
- Obstacle Detection (Detected - Boundary Reached)
- Obstacle Generation Test
- Movement Test in XY Axis (Up)
- Movement Test in XY Axis (Down)
- Movement Test in XY Axis (Left)
- Movement Test in XY Axis (Right)
- Rover Movement Sequence Test (With Deactivated Obstacles)



#### Example of Execution

![copy `app`](phpApp_screenshot.png "copy `app`")

#### Example of Test Execution

![copy `apptest`](phpAppTest_screenshot.png "copy `apptest`")
